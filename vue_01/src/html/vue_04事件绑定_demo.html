<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>vue入门</title>
    <style>
        *{padding: 0;margin: 0;}
        table{width:600px;border: 1px solid #ccc;border-collapse: collapse;text-align: center;}
        table td,table th{border:1px solid #ccc;}
        thead>tr{height:40px;}
        tbody>tr{height:60px;}
        table input[type=Number]{width:40px;}
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        }
        
    </style>
    <script src="../libs/js/vue.js"></script>
</head>
<body>
    <div id="app">
        <h2>{{message}}</h2>
        <table>
            <thead>
               <tr>
                    <th><input class="check-all" type="checkbox" name="" id=""></th>
                    <th>商品详情</th>
                    <th>商品单价</th>
                    <th>商品数量</th>
                    <th>商品小计</th>
                    <th>删除</th>
               </tr>
            </thead>
            <tbody>
                <tr v-for="(goods,index) in dataList" :key='index'>
                    <td><input class="check-one" type="checkbox" name="" id=""></td>
                    <td><p>{{goods.goodsName}}</p></td>
                    <td>{{goods.goodsPrice}}</td>
                    <td><button @click='dec(index)'>-</button><input @blur="judegNum(index)" :value="goods.goodsNum" type="Number"><button  @click='add(index)'>+</button></td>
                    <td>商品小计</td>
                    <td>删除</td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
<script>
    
     console.log(Vue)
 /*   
    v-on:    绑定事件监听器
    v-on：click (简写  @click)  绑定点击事件
    v-on：touchstart  (简写 @touchstart)   绑定手势触发事件


    v-model  实现表单输入和应用状态之间的双向绑定（mvvm）
    data-banding
    v-model 实现数据双向绑定   
    1.修改view更新model  
    2.修改model更新view
      通过v-model指令 把dom元素（view） 和数据模型绑定到一起，当用户修改view，就会触发dom listen，
      就去跟新model的数值，当你修改lemodel，就会通过data-banding 函数去更新view，这就是基础的数据双向绑定
      
*/

    var vm = new Vue({
        el:"#app",   //页面真实的dom对象
        data:{       //存储数据的 model 被 dom使用对象
            message:"Vue 购物车",
            dataList:[
                {id:"A001",goodsName:"一加耳机",goodsPrice:199,goodsNum:1},
                {id:"A002",goodsName:"一加手机壳",goodsPrice:99,goodsNum:1},
                {id:"A003",goodsName:"一加6 手机",goodsPrice:3599,goodsNum:1}
            ],
        }, 
        methods:{   //vue 所有方法绑定到methods中
           judegNum(index){
               console.log(event.target.value)
               if(event.target.value<=0){
                    event.target.value=1
                    this.dataList[index].goodsNum=1
               }else{
                    this.dataList[index].goodsNum=event.target.value
               }
           },
           add(index){
               console.log(index)
                this.dataList[index].goodsNum++
           },
           dec(index){
               if(this.dataList[index].goodsNum>1){
                   this.dataList[index].goodsNum--
               }
           }
        },
        computed:{
           smallCount(index){
               var goods = dataList[index];
           },
           total(){

           }
        }
    })
</script>
</html>